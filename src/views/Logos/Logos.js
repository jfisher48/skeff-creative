import React, { Component } from "react";
import { withStyles } from "@material-ui/core/styles";
import PageHeading from "../../components/PageHeading.js";
import Helmet from "react-helmet";
import Grid from "@material-ui/core/Grid";
import LogoCard from "../../components/LogoCard";
import jsonPrefix from "../../data/jsonPrefix";
import { Redirect } from "react-router-dom";
import { connect } from "react-redux";
import styles from "./styleLogos";

class Logos extends Component {
  constructor(props) {
    super(props);
    this.state = {
      logos: []
    };
  }
  componentDidMount() {
    let logosURL =
      jsonPrefix +
      "logos?_embed&per_page=100&filter[orderby]=menu_order&order=asc";
    fetch(logosURL)
      .then(response => response.json())
      .then(response => {
        this.setState({
          logos: response
        });
      });
  }

  render() {
    const { auth } = this.props;
    if (!auth.uid) return <Redirect to="/login" />;

    let logos = this.state.logos.map((logo, index) => {
      return (
        <LogoCard
          key={index}
          alt={logo.title.rendered}
          linkID={logo.acf.file_id}
          title={logo.title.rendered}
          pic={logo._embedded["wp:featuredmedia"]["0"].source_url}
        />
      );
    });
    return (
      <div>
        <Helmet>
          <title>Logos | Skeff Creative Services</title>
        </Helmet>
        <PageHeading
          color="#2196f3"
          view="0 0 35 34.99"
          svgPath="M17.48 31.43a13.94 13.94 0 1 1 14-13.95 13.94 13.94 0 0 1-14 13.95zM35 17.48c0-.14-.24-.3-.5-.48s-.24-.16-.37-.23a3.66 3.66 0 0 1-1.38-1.38v-.1a13 13 0 0 0-.3-1.51v-.1a3.58 3.58 0 0 1 .77-1.81 2.33 2.33 0 0 0 .2-.34c.17-.2.34-.5.3-.64-.07-.13-.37-.2-.67-.26l-.41-.07a3.54 3.54 0 0 1-1.81-.74l-.07-.07c-.27-.44-.54-.84-.84-1.25v-.07a3.37 3.37 0 0 1 0-1.94l.1-.41c.06-.26.1-.6 0-.7a.39.39 0 0 0-.4-.38 2.42 2.42 0 0 0-.47.07 1.38 1.38 0 0 0-.4.1 7 7 0 0 1-1.11.13 2.18 2.18 0 0 1-.84-.13l-.1-.07c-.4-.3-.84-.57-1.28-.84h-.1a3.41 3.41 0 0 1-.77-1.82 1.87 1.87 0 0 0-.07-.4c0-.27-.1-.57-.24-.64h-.13a1.38 1.38 0 0 0-.61.26 2 2 0 0 1-.33.24 3.41 3.41 0 0 1-1.82.77h-.1a12.6 12.6 0 0 0-1.51-.3h-.07A3.51 3.51 0 0 1 18.26.84L18 .5c-.13-.24-.34-.5-.47-.5h-.1c-.13 0-.3.23-.47.5a2.08 2.08 0 0 0-.24.34 3.51 3.51 0 0 1-1.37 1.41h-.1a13.17 13.17 0 0 0-1.52.3h-.13a3.49 3.49 0 0 1-1.82-.77 2.54 2.54 0 0 0-.34-.23 1.21 1.21 0 0 0-.57-.27h-.07c-.14.07-.2.34-.27.67a2.57 2.57 0 0 1-.07.4 3.22 3.22 0 0 1-.74 1.78h-.06a11.73 11.73 0 0 0-1.24.84h-.07a2.18 2.18 0 0 1-.84.14 4.15 4.15 0 0 1-1.11-.17c-.14 0-.27 0-.4-.07a3.78 3.78 0 0 0-.62.13.39.39 0 0 0-.24.06c-.1.1-.07.4 0 .7a1.8 1.8 0 0 0 .1.4 3.79 3.79 0 0 1 0 1.95l-.07.1c-.3.4-.57.8-.84 1.24v.06a3.3 3.3 0 0 1-1.82.74 1.76 1.76 0 0 1-.4.07c-.27.07-.57.13-.64.27a1.28 1.28 0 0 0 .27.67 2.44 2.44 0 0 1 .23.33 3.33 3.33 0 0 1 .78 1.79v.1a13 13 0 0 0-.3 1.51v.1a3.43 3.43 0 0 1-1.61 1.65A4 4 0 0 0 .5 17c-.23.14-.5.34-.5.48v.06c0 .17.23.34.5.5a2.62 2.62 0 0 0 .34.24 3.47 3.47 0 0 1 1.41 1.38v.1a13 13 0 0 0 .3 1.51v.07a3.41 3.41 0 0 1-.77 1.82 3.43 3.43 0 0 1-.24.33c-.13.24-.3.54-.27.64v.07c.07.14.33.2.67.24l.4.1a3.08 3.08 0 0 1 1.78.74v.1c.27.44.54.88.84 1.28v.11a3.74 3.74 0 0 1 0 2 1.34 1.34 0 0 0-.07.4c-.07.26-.1.6 0 .7a.39.39 0 0 0 .24.06 3.78 3.78 0 0 0 .47-.06l.4-.1a5.81 5.81 0 0 1 1.11-.14 2.22 2.22 0 0 1 .84.14l.1.06c.4.3.81.57 1.25.84h.07a3.58 3.58 0 0 1 .74 1.85 1.87 1.87 0 0 1 .07.4c.06.27.13.57.26.64h.07a1.18 1.18 0 0 0 .6-.3l.34-.23a3.52 3.52 0 0 1 1.78-.74h.06a12.6 12.6 0 0 0 1.51.3h.1A3.53 3.53 0 0 1 16.28 34c.07.1.17.24.23.34s.34.5.47.5h.07c.17 0 .34-.23.5-.5.07-.1.17-.23.24-.34a3.51 3.51 0 0 1 1.37-1.41h.1a13.17 13.17 0 0 0 1.52-.3h.13a3.41 3.41 0 0 1 1.78.77 1.16 1.16 0 0 1 .34.24 2.17 2.17 0 0 0 .6.27h.07c.13-.07.2-.37.23-.67a1.8 1.8 0 0 0 .1-.4 3.37 3.37 0 0 1 .74-1.82l.1-.06c.44-.27.87-.54 1.28-.84H26.27a2.18 2.18 0 0 1 .84-.14 6.88 6.88 0 0 1 1.11.14l.4.1a3.78 3.78 0 0 0 .47.06.5.5 0 0 0 .24-.06.94.94 0 0 0 0-.7l-.1-.4a3.59 3.59 0 0 1 0-1.95l.07-.1c.3-.4.57-.84.84-1.27v-.07a3.29 3.29 0 0 1 1.85-.74l.37-.1c.3 0 .6-.1.67-.24v-.06c0-.17-.1-.4-.3-.68a3.42 3.42 0 0 0-.23-.33 3.65 3.65 0 0 1-.74-1.78v-.06a13 13 0 0 0 .3-1.51v-.07a3.47 3.47 0 0 1 1.41-1.38A1.85 1.85 0 0 1 34.5 18c.23-.14.5-.34.5-.48z M24.17 13.75a1.78 1.78 0 0 1-.53 1.35 1.93 1.93 0 0 1-1.25.5.69.69 0 0 1-.5-.14.92.92 0 0 1-.1-.74 1.8 1.8 0 0 1 .5-1 1.75 1.75 0 0 1 1.25-.54h.16V9.31a.24.24 0 0 1 .24-.24.23.23 0 0 1 .23.24zm-1.88 2.65a1.77 1.77 0 0 1 1.24-.54A1 1 0 0 1 24 16a1 1 0 0 1 .14.74 2 2 0 0 1-.54 1 1.86 1.86 0 0 1-1.24.5.73.73 0 0 1-.5-.13c-.24-.2-.21-1.14.4-1.75zm1.88 3a1.87 1.87 0 0 1-1.78 1.58.71.71 0 0 1-.5-.17c-.23-.2-.2-1.14.4-1.74a1.9 1.9 0 0 1 1.25-.54.71.71 0 0 1 .5.17 1 1 0 0 1 .13.7zm-2.11 6.56h-1.15v-4.51a1.26 1.26 0 0 0 .57-.2 1.9 1.9 0 0 0 .58.2zm-2.69-5.56a1.81 1.81 0 0 1-.54-1 .87.87 0 0 1 .13-.7.71.71 0 0 1 .5-.17 2 2 0 0 1 1.25.54c.6.6.63 1.54.4 1.74a.71.71 0 0 1-.5.17 1.86 1.86 0 0 1-1.24-.54zm1.74-2.25a.69.69 0 0 1-.5.14 1.9 1.9 0 0 1-1.24-.5 2 2 0 0 1-.54-1.05A1 1 0 0 1 19 16a.87.87 0 0 1 .5-.13 1.79 1.79 0 0 1 1.24.54c.61.6.64 1.54.4 1.74zm-2.28-8.71a.23.23 0 0 1 .23-.23.23.23 0 0 1 .24.23v3.8h.1a1.93 1.93 0 0 1 1.31.54 1.86 1.86 0 0 1 .5 1 .92.92 0 0 1-.1.74.68.68 0 0 1-.5.13 1.79 1.79 0 0 1-1.24-.5 1.74 1.74 0 0 1-.54-1.34V9.45zm2.38 1.18V9.44a.23.23 0 0 1 .22-.23.25.25 0 0 1 .27.23v1.15a1.79 1.79 0 0 1 .76 1.41c0 .88-.64 1.51-1 1.51s-.94-.63-.94-1.51a1.8 1.8 0 0 1 .68-1.41zm-5 3.13a1.79 1.79 0 0 1-.54 1.35 1.9 1.9 0 0 1-1.24.5.73.73 0 0 1-.5-.13 1 1 0 0 1-.14-.74 2 2 0 0 1 .54-1 1.75 1.75 0 0 1 1.25-.54h.16V9.31a.24.24 0 0 1 .48 0zm-1.92 2.65a1.75 1.75 0 0 1 1.24-.54.58.58 0 0 1 .61.88 1.72 1.72 0 0 1-1.75 1.54.76.76 0 0 1-.5-.13c-.24-.2-.21-1.14.4-1.75zm1.85 3a1.85 1.85 0 0 1-.5 1 1.9 1.9 0 0 1-1.25.54.71.71 0 0 1-.5-.17c-.23-.2-.2-1.14.4-1.74a1.9 1.9 0 0 1 1.25-.54.71.71 0 0 1 .5.17.82.82 0 0 1 .1.7zm-2.09 6.56h-1.14v-4.51a1.3 1.3 0 0 0 .57-.2 1.94 1.94 0 0 0 .57.2zm-2.72-5.56a2 2 0 0 1-.5-1 .91.91 0 0 1 .13-.7.57.57 0 0 1 .47-.17 2 2 0 0 1 1.28.54 1.57 1.57 0 0 1 .4 1.74.71.71 0 0 1-.5.17 2.11 2.11 0 0 1-1.28-.54zm1.78-2.25a.69.69 0 0 1-.5.14 2.09 2.09 0 0 1-1.28-.5 2.18 2.18 0 0 1-.5-1.05A1 1 0 0 1 11 16a.78.78 0 0 1 .47-.13 1.82 1.82 0 0 1 1.28.54 1.59 1.59 0 0 1 .39 1.74zm-2.29-8.71a.24.24 0 0 1 .48 0v3.8h.1a1.81 1.81 0 0 1 1.81 1.55.92.92 0 0 1-.1.74.7.7 0 0 1-.5.13 2 2 0 0 1-1.28-.5 1.85 1.85 0 0 1-.5-1.34V9.45zm2.39 1.18V9.44a.22.22 0 0 1 .22-.23.25.25 0 0 1 .27.23v1.15a1.8 1.8 0 0 1 .76 1.41c0 .88-.64 1.51-1 1.51s-.94-.63-.94-1.51a1.76 1.76 0 0 1 .67-1.41zm4.27-5.95a12.83 12.83 0 1 0 12.85 12.81A12.82 12.82 0 0 0 17.48 4.67z"
          pageTitle="Logos"
        />
        <Grid container spacing={16}>
          <Grid item container spacing={16} xs={12} sm={8}>
            {logos}
          </Grid>
          <Grid item xs={12} sm={4}>
            <Grid container spacing={16}>
              <Grid item xs={12} sm={6} lg={12} xl={6}>
                <Grid container spacing={16}>
                  <Grid item xs={12} />
                  <Grid item xs={12} />
                  <Grid item xs={12} />
                </Grid>
              </Grid>
              <Grid item xs={12} sm={6} lg={12} xl={6}>
                <Grid container spacing={16}>
                  <Grid item xs={12}>
                    {/* <Card className={classes.card}>
                      <CardContent>
                        <Typography
                          className={classes.postTitle}
                          color="textSecondary"
                        >
                          Word of the Day
                        </Typography>
                        <Typography variant="headline" component="h2" />
                        <Typography
                          className={classes.pos}
                          color="textSecondary"
                        >
                          adjective
                        </Typography>
                        <Typography component="p">
                          well meaning and kindly.
                          <br />
                          {'"a benevolent smile"'}
                        </Typography>
                      </CardContent>
                      <CardActions>
                        <Button size="small">Learn More</Button>
                      </CardActions>
                    </Card> */}
                  </Grid>
                </Grid>
              </Grid>
            </Grid>
          </Grid>
        </Grid>
      </div>
    );
  }
}

const mapStateToProps = state => {
  console.log(state);
  return {
    auth: state.firebase.auth
  };
};

const styledLogos = withStyles(styles)(Logos);

export default connect(mapStateToProps)(styledLogos);
